@use "../base/variables.scss" as var;
@use "../base/mixins.scss" as *;

.swiper-payment {
    position: relative;
    --swiper-arrow-size: 36px;
    --swiper-arrow-x: 0;
    --swiper-side-p: 52px;
    @at-root .modal-body & {
        --swiper-side-p: 13px;
        margin-top: -8px;
        @include media {
            --side-padding: 0px;
            .swiper.swiper-horizontal {
                margin-left: 13px;
                margin-right: 13px;
                ~ .swiper-arrow[class*=swiper-button-] {
                    --swiper-arrow-x: 0px;
                }

            }
        }
    }
    @include mediaForPc {
        padding: 0 var(--swiper-side-p);
    }
    @include media {
        --slide-only-one-m: var(--side-padding);
        @include notch(margin, left, var(--side-padding), true);
        @include notch(margin, right , var(--side-padding), true);
    }
    .swiper {
        height: #{104px + 8px};
        overflow: visible;
        margin-left: var(--slide-only-one-m, calc(var(--swiper-side-p) * -1));
        margin-right: var(--slide-only-one-m, calc(var(--swiper-side-p) * -1));
        &.swiper-horizontal {
            overflow: hidden;
            margin-left: 0;
            margin-right: 0;
            @include media {
                // width: 100%;
                margin-left: 29px;
                margin-right: 29px;
                ~ .swiper-arrow[class*=swiper-button-] {
                    --swiper-arrow-x: 8px;
                }
            }
        }
        &:not(.swiper-horizontal) {
            overflow: hidden;
            .swiper-slide {
                &:not(:last-child) {
                    margin-right: 8px;
                }
            }
            ~ .swiper-arrow {
                --swiper-arrow-display: none;
            }
        }
        .swiper-slide {
            position: relative;
            padding-top: 8px;
            &:not(:only-child) {
                width: 200px;
            }
            @include mediaForPc {
                &:nth-child(2):last-child {
                    width: calc(100% - (208px * 1)) !important;
                }
                &:nth-child(3):last-child {
                    width: calc(100% - (208px * 2)) !important;
                }
                @at-root .deposit-charge &:nth-child(4):last-child {
                    width: calc(100% - (208px * 3)) !important;
                }
                @at-root .deposit-charge &:nth-child(5):last-child {
                    width: calc(100% - (208px * 4)) !important;
                }
            }
        }
    }
    .swiper-wrapper {
        display: flex;
    }
    .payment-item {
        overflow: hidden;
        border-radius: 4px;
        border-width: 1px;
        border-color: var.$lineNormal;
        background: var.$bfff;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        height: 100%;
        em {
            @include typo('body1');
            --typo-custom-c: #{var.$b000};
            --typo-custom-w: 600;
        }
        .card span,
        > span {
            --typo-custom-w: 500;
            text-align: center;
        }
        &.selected {
            border-style: solid;
            border-color: var.$primary;
            background-color: var.$primaryQuaternary;
        }
    }
    .tag-payment {
        z-index: 1;
        line-height: 20px;
        border-radius: 10px;
        pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
    }
    button.payment-item {
        border-style: dashed;
        justify-content: center;
        @include beforeImage(24px, 24px, url('../image/join/plus-circle.svg'));
        em {
            padding: 4px 0;
        }
        > span {
            @include typo('body3');
            --typo-custom-w: 400;
            --typo-custom-c: #{var.$b777};
        }
        &:hover {
            border-style: solid;
            border-color: var.$primary;
        }
        &:active {
            background-color: var.$primaryQuaternary;
        }
    }
    div.payment-item {
        border-style: solid;
        .btn {
            width: 100%;
            border-radius: 0;
            border-right: none;
            border-left: none;
            border-bottom: none;
            --item-height: 32px;
            --card-delete-bgc: #F9F9F9; // shit bgNormal
            --button-bdc: var(--card-delete-bgc);
            --button-bdc-hover: var(--card-delete-bgc);
            --button-bgc: var(--card-delete-bgc);
            --button-bgc-hover: var(--card-delete-bgc);
            --button-bgc-active: #{var.$primaryQuaternary};
            --button-bdc-active: #{var.$primaryQuaternary};
            &:not(:hover) {
                --button-c: #{var.$b333};
            }
            &:hover {
                --button-c: #{var.$primary};
                --icon-url: url(../image/icon/trash-active.svg);
            }

        }
    }
    .card {
        flex: 1;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        // justify-content: center;
        em {
            // margin-top: auto;
            margin-top: 12.5px;
            padding-bottom: 4px;
        }
        span {
            // margin-bottom: auto;
            @include typo('body2');
            --typo-custom-c: #{var.$b999};
            @include ellipse;
            display: inline-block;
            max-width: calc(100% - 32px);
            &.disabled {
                @include typo('body3');
                // margin-bottom: 0;
                // margin-top: -4px;
            }
        }
        &:hover {
            @include after {
                position: absolute;
                top: 8px;
                left: 0;
                right: 0;
                bottom: 0;
                border: 1px solid var.$primary;
                border-radius: 4px;
                pointer-events: none;
            }
        }
        &:active {
            &,
            & ~ .btn {
                background-color: var.$primaryQuaternary;
            }
        }
        &:disabled {
            pointer-events: none;
            background-color: var.$disabled;
            em, span {
                color: var.$b999;
            }
        }
        // @at-root .join & {
        //     pointer-events: none;
        // }
    }
}
